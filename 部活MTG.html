<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>部活ミーティング記録</title>
    <link
      rel="icon"
      href="data:image/jpeg;base64,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"
      type="image/jpeg"
    />
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f7f9fc;
        margin: 0;
        padding: 20px;
      }

      h1 {
        text-align: center;
        color: #333;
      }

      form {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        max-width: 600px;
        margin: 20px auto;
      }

      label {
        display: block;
        margin: 10px 0 5px;
        font-weight: bold;
      }

      input,
      select,
      textarea {
        width: 100%;
        padding: 10px;
        margin-bottom: 15px;
        border: 1px solid #ccc;
        border-radius: 4px;
        font-size: 14px;
      }

      textarea {
        height: 200px;
      }

      button {
        background-color: #4caf50;
        color: white;
        border: none;
        padding: 10px 15px;
        font-size: 16px;
        border-radius: 4px;
        cursor: pointer;
        margin-right: 10px;
      }

      button:hover {
        background-color: #45a049;
      }

      .record {
        margin-top: 30px;
      }

      .record h2 {
        color: #555;
        margin-bottom: 10px;
      }

      .record div {
        background-color: #fff;
        border: 1px solid #ddd;
        border-radius: 6px;
        padding: 15px;
        margin-bottom: 15px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .record p {
        margin: 5px 0;
      }

      .record-actions button {
        background-color: #f44336;
        margin-top: 10px;
      }

      .record-actions button.edit-btn {
        background-color: #2196f3;
      }

      .record-actions button:hover {
        opacity: 0.8;
      }

      .hidden {
        display: none;
      }
    </style>
  </head>
  <body>
    <h1>部活ミーティング記録</h1>

    <form id="meetingForm">
      <label for="meetingTitle">タイトル:</label>
      <input type="text" id="meetingTitle" placeholder="ミーティングのタイトル" required />

      <label for="meetingCategory">カテゴリー:</label>
      <select id="meetingCategory" required>
        <option value="大会について">大会について</option>
        <option value="部活について">部活について</option>
        <option value="その他">その他</option>
      </select>

      <input
        type="text"
        id="otherCategoryInput"
        class="hidden"
        placeholder="カテゴリーを入力してください"
      />

      <label for="meetingContent">内容:</label>
      <textarea id="meetingContent" placeholder="ミーティングの内容を入力" required></textarea>

      <button type="submit">記録を保存</button>
    </form>

    <div class="record">
      <h2>記録一覧</h2>
      <div id="records"></div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", loadRecords);

      const categorySelect = document.getElementById("meetingCategory");
      const otherInput = document.getElementById("otherCategoryInput");
      let editingIndex = null; // 編集中の記録インデックス

      categorySelect.addEventListener("change", function () {
        if (this.value === "その他") {
          otherInput.classList.remove("hidden");
          otherInput.setAttribute("required", "required");
        } else {
          otherInput.classList.add("hidden");
          otherInput.removeAttribute("required");
          otherInput.value = "";
        }
      });

      document.getElementById("meetingForm").addEventListener("submit", function (e) {
        e.preventDefault();

        const title = document.getElementById("meetingTitle").value;
        let category = categorySelect.value;
        if (category === "その他") {
          category = otherInput.value;
        }
        const content = document.getElementById("meetingContent").value;
        const now = new Date();
        const date = now.toLocaleDateString("ja-JP");
        const time = now.toLocaleTimeString("ja-JP", { hour12: false });

        const record = {
          title,
          category,
          content,
          date,
          time,
        };

        let records = JSON.parse(localStorage.getItem("meetingRecords")) || [];

        if (editingIndex !== null) {
          records[editingIndex] = record; // 編集
          editingIndex = null;
        } else {
          records.push(record); // 新規追加
        }

        localStorage.setItem("meetingRecords", JSON.stringify(records));
        loadRecords();
        this.reset();
        otherInput.classList.add("hidden");
      });

      function loadRecords() {
        const recordsContainer = document.getElementById("records");
        recordsContainer.innerHTML = "";
        const records = JSON.parse(localStorage.getItem("meetingRecords")) || [];

        records.forEach((record, index) => {
          const recordDiv = document.createElement("div");
          recordDiv.innerHTML = `
            <p><strong>タイトル:</strong> ${record.title}</p>
            <p><strong>カテゴリー:</strong> ${record.category}</p>
            <p><strong>内容:</strong> ${record.content}</p>
            <p><strong>実施日:</strong> ${record.date}</p>
            <p><strong>実施時刻:</strong> ${record.time}</p>
            <div class="record-actions">
              <button class="edit-btn" onclick="editRecord(${index})">編集</button>
              <button onclick="deleteRecord(${index})">削除</button>
            </div>
          `;
          recordsContainer.appendChild(recordDiv);
        });
      }

      function editRecord(index) {
        const records = JSON.parse(localStorage.getItem("meetingRecords")) || [];
        const record = records[index];

        document.getElementById("meetingTitle").value = record.title;
        document.getElementById("meetingCategory").value = record.category;
        document.getElementById("meetingContent").value = record.content;

        if (record.category === "その他") {
          otherInput.classList.remove("hidden");
          otherInput.value = record.category;
        } else {
          otherInput.classList.add("hidden");
        }

        editingIndex = index;
      }

      function deleteRecord(index) {
        let records = JSON.parse(localStorage.getItem("meetingRecords")) || [];
        records.splice(index, 1);
        localStorage.setItem("meetingRecords", JSON.stringify(records));
        loadRecords();
      }
    </script>
  </body>
</html>
